<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <title>RFDSort – Rockford UPS Air Hub Sorting Guide</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, interactive-widget=resizes-content">
    <meta name="description" content="RFDSort is a quick visual lookup tool for the Rockford UPS Air Hub (6119N). Find the correct chute, belt, and destination by ZIP code or state to reduce missorts and speed up training.">
    <meta name="author" content="Michael Schwartz">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="RFDSort – Rockford UPS Air Hub Sorting Guide">
    <meta name="theme-color" content="#13171f">
    <meta name="apple-mobile-web-app-title" content="RFDSort – Rockford UPS Air Hub Sorting Guide">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="msapplication-starturl" content="./index.html">
    <meta name="msapplication-navbutton-color" content="#13171f">
    <meta property="og:url" content="https://michaelsboost.com/RFDSort" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="RFDSort – Rockford UPS Air Hub Sorting Guide" />
    <meta property="og:description" content="RFDSort is a quick visual lookup tool for the Rockford UPS Air Hub (6119N). Find the correct chute, belt, and destination by ZIP code or state to reduce missorts and speed up training." />
    <link rel="shortcut icon" type="image/x-icon" href="imgs/logo.svg">
    <link rel="icon" type="image/svg+xml" href="imgs/logo.svg" />
    <link rel="apple-touch-icon" href="imgs/logo.svg">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/picocss/2.0.6/pico.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.14.1/dist/cdn.min.js" defer></script>
    <link rel="stylesheet" href="src/bundle.css">
  </head>
  <body>
    <div class="absolute inset-0" x-data="App()">
      <div class="flex absolute inset-0">
        <!-- Sidebar (Belts) -->
        <aside class="w-28 text-white flex flex-col items-center py-2 space-y-2 overflow-y-auto">
          <template x-for="belt in belts" :key="belt.chute">
            <button @click="showBelt(belt.chute)" :title="belt.chute" :class="[
                'w-20 h-10 flex items-center border-0 justify-center rounded outline-none cursor-pointer shadow-2xl shadow-blue-500',
                isHighlighted(belt.chute) ? 'ring-4 ring-white' : '',
                belt.color
              ]">
              <span class="text-[10px] font-bold" x-text="belt.short"></span>
            </button>
          </template>
        </aside>
      
        <!-- Main Panel -->
        <main class="flex-1 p-4 overflow-y-auto">
          <div class="flex flex-col justify-between h-full">
      
            <!-- Top bar -->
            <header class="flex items-center mb-3">
              <div class="w-auto">
                <a x-show="selectedState" class="my-3 text-lg font-thin no-underline cursor-pointer text-current" @click="clear" target="_blank" x-text="selectedState"></a>
                <a x-show="selectedBelt" class="my-3 text-lg font-thin no-underline cursor-pointer text-current" @click="clear" target="_blank" x-text="selectedBelt"></a>
                
                <a x-show="!selectedState &amp;&amp; !selectedBelt" class="my-3 text-lg font-thin no-underline cursor-pointer text-current" @click="openMenu=true" target="_blank">
                  <img alt="logo" class="h-8 mx-3 rounded-full" :src="logo" loading="lazy">
                  <span class="text-lg font-thin" x-text="name"></span>
                </a>
              </div>
              
              <div class="ml-auto flex items-center gap-2">
                <button @click="openMenu=true" class="px-3 py-1 rounded bg-transparent border-0" style="color:unset;">
                  <svg class="p-1 w-8" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <g fill="none" stroke="currentColor" stroke-dasharray="16" stroke-dashoffset="16" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                      <path d="M5 5h14">
                        <animate fill="freeze" attributeName="stroke-dashoffset" dur="0.2s" values="16;0"></animate>
                      </path>
                      <path d="M5 12h14">
                        <animate fill="freeze" attributeName="stroke-dashoffset" begin="0.2s" dur="0.2s" values="16;0"></animate>
                      </path>
                      <path d="M5 19h14">
                        <animate fill="freeze" attributeName="stroke-dashoffset" begin="0.4s" dur="0.2s" values="16;0"></animate>
                      </path>
                    </g>
                  </svg>
                </button>
              </div>
            </header>
      
            <!-- State picker -->
            <article x-show="!selectedState &amp;&amp; !selectedBelt">
              <h2 class="text-base font-thin mb-2">Select a State</h2>
              <div class="grid grid-cols-1 sm:grid-cols-4 gap-2 mb-4">
                <template x-for="s in states" :key="s">
                  <button @click="showState(s)">
                    <span x-text="s"></span>
                  </button>
                </template>
              </div>
            </article>
      
            <!-- STATE → BELTS result -->
            <div x-show="selectedState">
              <div class="grid gap-4 grid-cols-2">
                <template x-for="(match, i) in matches" :key="match._key">
                  <article class="mb-2 p-3 w-full" :class="{ 'col-span-2': matches.length % 2 === 1 &amp;&amp; i === matches.length - 1 }">
                    <div class="mb-1">
                      <strong>Chute(s):</strong>
                      <template x-for="c in asArray(match.chute)" :key="match._key + '::' + c">
                        <kbd class="inline-block px-2 py-0.5 mr-1 mb-1 rounded border" x-text="c"></kbd>
                      </template>
                    </div>
                    <div><strong>Dest (Slick):</strong> <span x-text="match.dest || '—'"></span></div>
                    <div><strong>ZIPs:</strong> <span x-text="match.zips.join(', ')"></span></div>
                    <div><strong>Pull:</strong> <span x-text="match.pull || '—'"></span></div>
                    <div><strong>Wave:</strong> <span x-text="match.wave || '—'"></span></div>
                  </article>
                </template>
              </div>
      
              <div class="mt-2">
                <button @click="clear" class="block w-full">Back</button>
              </div>
            </div>
      
            <!-- BELT → STATES result -->
            <div x-show="selectedBelt">
              <div class="grid gap-4 grid-cols-2">
                <template x-for="(m, i) in beltMatches" :key="m._key ?? i">
                  <article class="mb-2 p-3 w-full" :class="{ 'col-span-2': beltMatches.length % 2 === 1 &amp;&amp; i === beltMatches.length - 1 }">
                    <div><strong>State:</strong> <span x-text="m.state"></span></div>
                    <div><strong>Dest (Slick):</strong> <span x-text="m.dest || '—'"></span></div>
                    <div><strong>ZIPs:</strong> <span x-text="m.zips.join(', ')"></span></div>
                    <div><strong>Pull:</strong> <span x-text="m.pull || '—'"></span></div>
                    <div><strong>Wave:</strong> <span x-text="m.wave || '—'"></span></div>
                  </article>
                </template>
              </div>
      
              <div class="mt-2">
                <button @click="clear" class="block w-full">Back</button>
              </div>
            </div>
      
            <!-- Footer disclaimer -->
            <footer class="p-4 text-center text-sm text-gray-600">
              ⚠️ Not UPS official. Use only when stopped — never while driving or on equipment.
            </footer>
          </div>
        </main>
      </div>
      
      <dialog x-bind:open="openMenu" x-transition.opacity="">
        <article class="rounded-md">
          <header class="flex justify-between items-center">
            <h1 class="text-lg font-thin m-0 capitalize">
              file menu
            </h1>
            <button class="text-xs w-auto px-3 py-2 m-0 capitalize rounded-md bg-transparent border-0" style="color: unset;" aria-label="Close" @click="openMenu=false">
              <svg class="h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"></path>
      </svg>
            </button>
          </header>
          <main>
            <ul class="py-4 px-0 font-thin">
              <li class="list-none">
                <div class="items-center text-center">
                  <div>
                    <a aria-label="project homepage" name="project homepage" target="_blank" :href="url">
                      <img alt="logo" class="my-4 w-24 m-auto rounded-full" :src="logo" loading="lazy">
                    </a>
                    <div class="text-2xl">
                      About <span x-text="name"></span>
                    </div>
                    <div class="my-2 text-xs" x-text="version"></div>
                    <a target="_blank" class="text-sm underline mb-2 text-blue-500" :href="license">
                        Open Source License
                    </a>
                  </div>
                </div>
              </li>
              <li class="p-0 list-none">
                <hr>
              </li>
              <li class="p-0 list-none">
                <nav class="flex justify-between mt-5 items-center">
                  <label for="theme" class="mb-2 flex justify-between items-center cursor-pointer">
                    <span>Dark:</span>
                  </label>
          
                  <input id="theme" class="m-0" type="checkbox" role="switch" name="toggle dark mode" @change="toggleTheme()">
                </nav>
              </li>
              <li class="p-0 list-none">
                <hr>
              </li>
              <li class="p-0 list-none">
                <nav class="flex justify-between mt-5 items-center">
                  <label for="theme" class="mb-2 flex justify-between items-center cursor-pointer">
                    <span>Shift:</span>
                  </label>
          
                  <!-- Shift selector -->
                  <div class="ml-auto flex items-center gap-2">
                    <select id="shift" class="px-3 py-1 m-0 text-sm" x-model="shift" @change="applyShift()">
                      <template x-for="s in shiftOrder" :key="s">
                        <option :value="s" :selected="shift === s" x-text="labelForShift(s)"></option>
                      </template>
                    </select>
                  </div>
                </nav>
              </li>
              <li class="p-0 list-none">
                <hr>
              </li>
              <li class="list-none">
                <div class="mb-2 text-xl">
                  Purpose:
                </div>
                <div class="text-sm">
                  Quick visual lookup to reduce missorts: tap a state or belt to see chutes, ZIP ranges, destinations, pull times, and waves.
                </div>
              </li>
              <li class="p-0 list-none">
                <hr>
              </li>
              <li class="list-none">
                <div class="mb-2 text-xl">
                  Disclaimer:
                </div>
                <div class="text-sm">
                  ⚠️ Not affiliated with or endorsed by UPS. For personal reference and training only. Do not use while driving or operating equipment—use only when stationary and safe.
                </div>
              </li>
              <li class="p-0 list-none">
                <hr>
              </li>
              <li class="list-none">
                <div class="mb-2 text-xl">
                  Developer:
                </div>
                <div class="text-sm">
                  <div class="text-center">
                    📦 Made with ❤️, ☕ &amp; 👨‍💻 by <a href="https://michaelsboost.com/" target="_blank">Michael Schwartz</a> 🚀
                  </div>
                </div>
              </li>
            </ul>
          </main>
          <footer>
            <button class="text-xs w-auto px-3 py-2 m-0 capitalize rounded-md bg-transparent border border-gray-600" style="color: unset;" aria-label="Close" @click="openMenu=false">
              close
            </button>
          </footer>
        </article>
      </dialog>
    </div>

    <script>
      function App() {
        return {
          // --- UI state ---
          openMenu: false,
          name: 'RFDSort',
          version: 'v0.0.1',
          url: 'https://github.com/michaelsboost/RFDSort/',
          license: 'https://github.com/michaelsboost/RFDSort/blob/main/LICENSE',
          logo: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iNTEyIgogICBoZWlnaHQ9IjUxMiIKICAgdmlld0JveD0iMCAwIDEzNS40NjY2NiAxMzUuNDY2NjciCiAgIHZlcnNpb249IjEuMSIKICAgaWQ9InN2ZzEiCiAgIHhtbDpzcGFjZT0icHJlc2VydmUiCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnMKICAgICBpZD0iZGVmczEiIC8+PGcKICAgICBpZD0ibGF5ZXIxIj48cmVjdAogICAgICAgc3R5bGU9ImZpbGw6I2Y3NmQzMTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6Mi45MDIwOCIKICAgICAgIGlkPSJyZWN0MjYiCiAgICAgICB3aWR0aD0iMTM1LjQ2NjY2IgogICAgICAgaGVpZ2h0PSIxMzUuNDY2NjYiCiAgICAgICB4PSIwIgogICAgICAgeT0iMCIgLz48ZwogICAgICAgaWQ9ImczMCI+PGNpcmNsZQogICAgICAgICBzdHlsZT0iZmlsbDojNThiNTY3O2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowLjMyNTY0MSIKICAgICAgICAgaWQ9InBhdGgyOCIKICAgICAgICAgY3g9Ijg5LjU0Mzc2MiIKICAgICAgICAgY3k9IjMyLjI1Nzk5OSIKICAgICAgICAgcj0iMy41NTk1MDM4IiAvPjxjaXJjbGUKICAgICAgICAgc3R5bGU9ImZpbGw6I2NmNmQyMztmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MC4zMjU2NDEiCiAgICAgICAgIGlkPSJjaXJjbGUyOCIKICAgICAgICAgY3g9Ijc0Ljk3MjAzOCIKICAgICAgICAgY3k9IjMyLjI1Nzk5OSIKICAgICAgICAgcj0iMy41NTk1MDM4IiAvPjxjaXJjbGUKICAgICAgICAgc3R5bGU9ImZpbGw6I2Y2YjYyMjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MC4zMjU2NDEiCiAgICAgICAgIGlkPSJjaXJjbGUyOSIKICAgICAgICAgY3g9IjYwLjQwMDMyMiIKICAgICAgICAgY3k9IjMyLjI1Nzk5OSIKICAgICAgICAgcj0iMy41NTk1MDM4IiAvPjxjaXJjbGUKICAgICAgICAgc3R5bGU9ImZpbGw6IzUzOGZkNTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MC4zMjU2NDEiCiAgICAgICAgIGlkPSJjaXJjbGUzMCIKICAgICAgICAgY3g9IjQ1LjgyODYwNiIKICAgICAgICAgY3k9IjMyLjE0Njc2MyIKICAgICAgICAgcj0iMy41NTk1MDM4IiAvPjwvZz48cGF0aAogICAgICAgaWQ9InJlY3QzMCIKICAgICAgIHN0eWxlPSJmaWxsOiM1ZDYzNmM7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlLXdpZHRoOjAuMjU2OTM3IgogICAgICAgZD0ibSA0Mi44ODA4OTEsNzcuNDE5MjEyIGggNDkuNjEwNTg3IGMgMTEuNDU5NzkyLDAgMTMuNjI2MjIyLDEwLjMwNTY5NCAxMy42MjYyMjIsMTguNTIwNTQ0IDAsNS40NTM3MTQgLTQuMzkwNTQsOS44NDQyNDQgLTkuODQ0MjQ5LDkuODQ0MjQ0IEggMzkuNTQzODU2IGMgLTUuNDUzNzE0LDAgLTkuODQ0MjQ4LC00LjM5MDUzIC05Ljg0NDI0OCwtOS44NDQyNDQgLTAuMDUxNzUsLTguMjY4NzA2IDEuODMwNzEyLC0xOC41MjA1NDQgMTMuMTgxMjgzLC0xOC41MjA1NDQgeiIgLz48cGF0aAogICAgICAgaWQ9InJlY3QzMSIKICAgICAgIHN0eWxlPSJmaWxsOiNhMmEyYTI7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjAuMjY0NTgzIgogICAgICAgZD0ibSAzOS4zMjE2MzEsODYuNzYyNjYzIGMgLTUuMjY4ODM5LDAgLTkuNTEwNTMxLDQuMjQxNjkyIC05LjUxMDUzMSw5LjUxMDUzIDAsNS4yNjg4MzcgNC4yNDE2OTIsOS41MTEwNDcgOS41MTA1MzEsOS41MTEwNDcgaCA1Ni4zOTU1MjQgYyA1LjI2ODgzNSwwIDkuNTEwNTM1LC00LjI0MjIxIDkuNTEwNTM1LC05LjUxMTA0NyAwLC01LjI2ODgzOCAtNC4yNDE3LC05LjUxMDUzIC05LjUxMDUzNSwtOS41MTA1MyB6IG0gMS4zOTg4ODEsNS4yNDkyOTIgYSA0LjE0MDI3MTcsNC4xNDAyNzE3IDAgMCAxIDQuMTQwMzE2LDQuMTQwMzE2IDQuMTQwMjcxNyw0LjE0MDI3MTcgMCAwIDEgLTQuMTQwMzE2LDQuMTM5Nzk5IDQuMTQwMjcxNyw0LjE0MDI3MTcgMCAwIDEgLTQuMTQwMzE2LC00LjEzOTc5OSA0LjE0MDI3MTcsNC4xNDAyNzE3IDAgMCAxIDQuMTQwMzE2LC00LjE0MDMxNiB6IG0gMTcuOTMzMjcyLDAgYSA0LjE0MDI3MTcsNC4xNDAyNzE3IDAgMCAxIDQuMTQwMzE2LDQuMTQwMzE2IDQuMTQwMjcxNyw0LjE0MDI3MTcgMCAwIDEgLTQuMTQwMzE2LDQuMTM5Nzk5IDQuMTQwMjcxNyw0LjE0MDI3MTcgMCAwIDEgLTQuMTQwMzE2LC00LjEzOTc5OSA0LjE0MDI3MTcsNC4xNDAyNzE3IDAgMCAxIDQuMTQwMzE2LC00LjE0MDMxNiB6IG0gMTcuOTMzMjcyLDAgYSA0LjE0MDI3MTcsNC4xNDAyNzE3IDAgMCAxIDQuMTQwMzE2LDQuMTQwMzE2IDQuMTQwMjcxNyw0LjE0MDI3MTcgMCAwIDEgLTQuMTQwMzE2LDQuMTM5Nzk5IDQuMTQwMjcxNyw0LjE0MDI3MTcgMCAwIDEgLTQuMTQwMzE1LC00LjEzOTc5OSA0LjE0MDI3MTcsNC4xNDAyNzE3IDAgMCAxIDQuMTQwMzE1LC00LjE0MDMxNiB6IG0gMTguMDkwODg2LDAgYSA0LjE0MDI3MTcsNC4xNDAyNzE3IDAgMCAxIDQuMTM5Nzk5LDQuMTQwMzE2IDQuMTQwMjcxNyw0LjE0MDI3MTcgMCAwIDEgLTQuMTM5Nzk5LDQuMTM5Nzk5IDQuMTQwMjcxNyw0LjE0MDI3MTcgMCAwIDEgLTQuMTQwMzE2LC00LjEzOTc5OSA0LjE0MDI3MTcsNC4xNDAyNzE3IDAgMCAxIDQuMTQwMzE2LC00LjE0MDMxNiB6IiAvPjxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDojZjdiNzNhO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowLjI2NDU4MyIKICAgICAgIGQ9Ik0gNDMuNTc0NjgxLDc3LjIzODg3OCA2Ny4zMjgzOSw4NS41NzYyNzEgOTEuMzk2NzE2LDc3LjA4MTU2NyA5MC42MTAxNjgsNDcuODIyMDM1IDY3LjMyODM5LDQxLjA1NzczMiA0My40MTczNzMsNDcuOTc5MzQzIFoiCiAgICAgICBpZD0icGF0aDI2IiAvPjxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDojNThiNTY3O2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowLjI2NDU4MyIKICAgICAgIGQ9Im0gMzguMDY4ODU3LDYzLjA4MTAzOCAwLjE1NzMwOSw4LjMzNzM5MyAxOC4wOTA1NywwLjMxNDYxOCAxLjQ1NTExMSw0LjU2MTk3MSA4Ljc2OTk5NSwtOS4xMjM5NCAtOS41OTU4NjgsLTkuMTIzOTQgLTAuNDcxOTI3LDQuMDkwMDQxIHoiCiAgICAgICBpZD0icGF0aDI3IiAvPjxnCiAgICAgICBpZD0iZzE4IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMTAzODU4MywtMC4wMTM0OTQ5OCkiPjxnCiAgICAgICAgIGlkPSJnMjYiPjxwYXRoCiAgICAgICAgICAgc3R5bGU9ImZpbGw6IzMyMzUzOCIKICAgICAgICAgICBkPSJtIDM4LjU2MzAxOSwxMDYuODc4NTMgYyAtNC4zMDc1NjIsLTAuNjI4MjggLTcuNzc2MjA3LC0zLjYyNzU4IC05LjA4Nzg4OSwtNy44NTgyMjMgLTAuMjY2MTUzLC0wLjg1ODQzNiAtMC4yOTA4NDEsLTEuMjYxMjE0IC0wLjMzODE3NywtNS41MTcxMzQgLTAuMDQyNTEsLTMuODIyNTQxIC0wLjAxNTM0LC00Ljc4MTcxNSAwLjE2MjMxNCwtNS43Mjk4MTUgMC44MTcyNTYsLTQuMzYxNDE0IDMuNjgzNTY1LC04LjIxODA1OCA3LjU0Mzk2LC0xMC4xNTA0NjMgMS40MjQzMzgsLTAuNzEyOTgzIDMuMTI5NDIzLC0xLjE2NDU0OCA1LjEyNjMwMiwtMS4zNTc2MiBsIDAuODkyOTY5LC0wLjA4NjM0IHYgLTEuNzA5MjYyIC0xLjcwOTI2MiBoIC0yLjQyNzgzMiBjIC0yLjMwMDM1MiwwIC0yLjQ1MDcyOSwtMC4wMTU2MyAtMi44NjM5MDIsLTAuMjk3NjU2IC0wLjIzOTgzOCwtMC4xNjM3MTEgLTAuNTQ3ODE4LC0wLjUwNjAxNiAtMC42ODQ0MDEsLTAuNzYwNjc3IC0wLjIzMDM0NiwtMC40Mjk0ODYgLTAuMjQ1NjkxLC0wLjc2NjU1MSAtMC4yMTE4OCwtNC42NTM4MTggMC4wMzQ3NiwtMy45OTYwOTkgMC4wNDkxMiwtNC4yMDc3NTggMC4zMDkyMSwtNC41NTU4ODggMC42NTE2MTksLTAuODcyMjA2IDAuNzc1NDQ0LC0wLjkwNjU0NSAzLjQ0MDcyOSwtMC45NTQxODYgbCAyLjQzODA3NiwtMC4wNDM1OCBWIDU0LjUwMTAzNCA0Ny41MDc0NiBsIDAuMjk3NjU2LC0wLjMzMDg2MSBjIDAuMjQ5NjYyLC0wLjI3NzUxMyAwLjk5MDkwOCwtMC41MTUwNiA0LjU5NzEzNSwtMS40NzMyNDQgMi4zNjQ3MTQsLTAuNjI4MzExIDUuODE3NTI2LC0xLjU1MDY2MiA3LjY3MjkxNiwtMi4wNDk2NyAxLjg1NTM5MSwtMC40OTkwMDcgMy45Njg3NSwtMS4wNjQ2MzEgNC42OTYzNTQsLTEuMjU2OTQxIDAuNzI3NjA0LC0wLjE5MjMxIDIuNjE3ODExLC0wLjcwMzc4NSA0LjIwMDQ2LC0xLjEzNjYxMSAxLjU4MjY0OSwtMC40MzI4MjYgMy4wNzA5MywtMC43OTM2NTIgMy4zMDcyOTIsLTAuODAxODM1IDAuMjM2MzYxLC0wLjAwODIgMi40NTM4MSwwLjUzNDI2NSA0LjkyNzY2NCwxLjIwNTQzOSA1LjU5NDM2MiwxLjUxNzc5MSA5LjU3NzA5NSwyLjU5NTIyMyAxNC42ODQzNzUsMy45NzI1MDQgMi4xODI4MTIsMC41ODg2MzkgNC4xMzM2NjYsMS4xMzU4MSA0LjMzNTIzLDEuMjE1OTM1IDAuMjAxNTY0LDAuMDgwMTMgMC41MTQxMDMsMC4zMjExMjEgMC42OTQ1MzEsMC41MzU1NDcgbCAwLjMyODA1MSwwLjM4OTg2NiB2IDE0LjIxMTIwNCAxNC4yMTEyMDMgbCAwLjQ5NjA5NCw1LjMyZS00IGMgMC44MzA4MTgsOC45MWUtNCAyLjgyMzY0LDAuMzY5ODAyIDMuODAzMzg1LDAuNzA0MDgzIDQuNjc4MTk5LDEuNTk2MTY0IDguMDc1MTI5LDUuNDUyMzcgOS4yODQxMzksMTAuNTM5Mzg4IDAuMzE5NTUsMS4zNDQ1NTYgMC40MDQzNiw4LjY0NjM3OSAwLjExOTU5LDEwLjI5NjU0MiAtMC43NTQ1Miw0LjM3MjIwOSAtMy43NjE0LDcuNjg5OTk5IC04LjA4MDgxMyw4LjkxNjM3OSBsIC0xLjA1ODMzMywwLjMwMDQ5IC0yOC45MDU3MjgsMC4wMTg0IGMgLTE1Ljk0MDY4MywwLjAxMDIgLTI5LjI2MTc0NywtMC4wMzM1IC0yOS42OTk0NzcsLTAuMDk3MyB6IG0gNTkuNTQ4NTE0LC0yLjUzNDI1IGMgMi4yMTM1OTcsLTAuNzUwMjcgNC4yMTE2MjcsLTIuNDc3MTMgNS4xOTg0MTcsLTQuNDkyODc2IDAuNzAwNzMsLTEuNDMxNDI3IDAuOTM1ODgsLTIuNDA0NzM0IDAuOTM1ODgsLTMuODczODA1IDAsLTIuMzc2NCAtMC43NDc1OSwtNC4xMzI5MDYgLTIuNTA3NzcsLTUuODkyMTUgLTEuMTQ2OSwtMS4xNDYyODUgLTEuOTkzMTY1LC0xLjY5MTgyNyAtMy41NDEyMjksLTIuMjgyODM0IGwgLTAuNzY0MDI0LC0wLjI5MTY4MiAtMjkuMjAzNTI5LC0wLjAzNDgxIGMgLTMyLjUwNDI0NiwtMC4wMzg3NCAtMzAuMTMyNTA5LC0wLjEwMzc5NSAtMzIuMTY5OTA4LDAuODgyMzYzIC0xLjI5NzY4LDAuNjI4MTE0IC0yLjY5OTY5NiwxLjg2NzIwOSAtMy40ODg0NTYsMy4wODMwODEgLTEuMTU1MDI5LDEuNzgwNDc3IC0xLjYwNjcwOSw0LjIyNzk2NyAtMS4xNjY3MDgsNi4zMjE5NjcgMC41ODgxMDYsMi43OTg4MzYgMi44ODUzOTUsNS40Nzg1MTYgNS41MDUxNjcsNi40MjE1MDYgMS42NDA2MTksMC41OTA1NSAwLjU4MzkyLDAuNTcxOTkgMzEuMTU0Njg2LDAuNTQ3MjUgbCAyOC45NzE4NzMsLTAuMDIzNCB6IG0gLTU4LjI2NzEzOSwtMi45MDIzIGMgLTIuNzAxODksLTAuNDEwNTkgLTQuNjY3MDIxLC0yLjg4NDI3NiAtNC40ODk2ODcsLTUuNjUxNTc3IDAuMDg5MzMsLTEuMzk0MDMxIDAuNDkxMTAyLC0yLjM2MTE2MSAxLjM3OTUyNiwtMy4zMjA3NjUgMy41MjY1MTEsLTMuODA5MDUzIDkuNzg0NjUxLC0xLjA4NDk3NSA5LjM5NDUzMiw0LjA4OTMwMiAtMC4wODE0NiwxLjA4MDM3OCAtMC41NDgyODgsMi4yMDE4NTMgLTEuMjg2NDE5LDMuMDkwMzc5IC0xLjExMDY1MywxLjMzNjk1MSAtMy4xNTk5MSwyLjA3MTk3MSAtNC45OTc5NTIsMS43OTI2NjEgeiBtIDEuODU0NjM1LC0yLjI5NjU2MSBjIDEuMzM3NzMxLC0wLjQ1NTgxMSAyLjIyMTgwMiwtMS42NTU2NiAyLjIyMTgwMiwtMy4wMTUzOTkgMCwtMS4yOTc2NTQgLTAuNjE3NTY1LC0yLjI3NDMxOCAtMS43ODA1MzEsLTIuODE1ODY2IC0xLjIxNjA3MSwtMC41NjYyNzYgLTIuNTYzODU5LC0wLjM4Mzc3OSAtMy41NDUyMDcsMC40ODAwMzcgLTEuODU4MTMzLDEuNjM1NTk1IC0xLjIyMzkyLDQuNTA2NjI2IDEuMTg1MzYzLDUuMzY2MDM4IDAuNjY2OTgzLDAuMjM3OTE5IDEuMTg4NjczLDAuMjMzODkxIDEuOTE4NTczLC0wLjAxNDgxIHogbSAxNS4zNTY2NjMsMi4wNzUzNzEgYyAtMS41MjA2MDcsLTAuNTI1MzkgLTIuNTkxOCwtMS41MTA2NzQgLTMuMzI3MjEyLC0zLjA2MDM3OCAtMC4zMDAwOTQsLTAuNjMyMzc2IC0wLjM0NTUxNCwtMC45MDA3NDcgLTAuMzQ3MDQsLTIuMDUwNTIxIC0wLjAwMTYsLTEuMjE0NTE5IDAuMDMyNzcsLTEuMzk1Nzk2IDAuNDE5NTkxLC0yLjIxMjM1NyAxLjcwNDA4MiwtMy41OTcyMyA2LjI2NTcxMiwtNC4zMjUxNTYgOC45NDgwNjQsLTEuNDI3ODk2IDEuMDI4NzEyLDEuMTExMTMxIDEuMzM1NTYyLDEuOTQzNzYxIDEuMzQxNTQ3LDMuNjQwMjUzIDAuMDA0MywxLjIxMzYwOSAtMC4wMjk2NCwxLjM5NTMxNSAtMC40MTA0OTEsMi4xOTkxMzQgLTAuNDYyNzUyLDAuOTc2NjY1IC0xLjE4Nzk2NiwxLjg0OTMyNSAtMS45MjE4NywyLjMxMjYyNSAtMS4zMDY2MTcsMC44MjQ4MyAtMy4zMTA0ODEsMS4wODAxNCAtNC43MDI1ODksMC41OTkxNCB6IG0gMy4zMTcwMTUsLTIuMzc1MDc3IGMgMS42NTIzMTksLTAuOTI4NDM1IDIuMDc5NzM0LC0yLjk2OTM1MSAwLjk2NjQ5NSwtNC42MTUwMzggLTAuNTg1NTQ0LC0wLjg2NTYwMiAtMS4zMjQwMzUsLTEuMjI5NjM4IC0yLjQ5NDQ3LC0xLjIyOTYzOCAtMS4wNTQ4NzMsMCAtMS43MDQ4MjgsMC4yMzE1OTEgLTIuMzM5Mjc1LDAuODMzNTI3IC0xLjI3NDQ3OSwxLjIwOTE3MyAtMS4yODM2MiwzLjIwNDAzNyAtMC4wMjA0Nyw0LjQ2NzE4OCAxLjEwODQwOSwxLjEwODQwOSAyLjUyOTM1MywxLjMwNzIyNCAzLjg4NzcxOSwwLjU0Mzk2MSB6IG0gMTQuNTQyMzMxLDIuMzU3NDU3IGMgLTEuOTg3MDAxLC0wLjcwNjQ3IC0zLjM5MzMzLC0yLjUxNjEyIC0zLjU2NzIxOSwtNC41OTAyNjEgLTAuMjQ1ODE3LC0yLjkzMjExMyAxLjY3NjQ4LC01LjM3NDUwNSA0LjYxOTkwOCwtNS44Njk4NjUgMC43NDMzMjksLTAuMTI1MDk4IDEuMDU2MjM0LC0wLjExMzY2MiAxLjg3NTE3LDAuMDY4NTMgMy4xMDIyNjgsMC42OTAxODkgNC45ODAwODYsMy44MTg3OTQgNC4wNjM1NTQsNi43NzAyMjYgLTAuNTM5ODIzLDEuNzM4MzQ3IC0xLjk2ODY2MSwzLjE5Mzc5IC0zLjYxNTU1NCwzLjY4Mjg2IC0wLjkyNTUxMSwwLjI3NDg1IC0yLjUxMTExNCwwLjI0NTk3IC0zLjM3NTg1OSwtMC4wNjE1IHogbSAyLjczMjQwNiwtMi4wNjA1MjIgYyAwLjkxNjAzMywtMC4yNzIwMzMgMS45MDU0MTQsLTEuMjI4MTI4IDIuMTI5NjkzLC0yLjA1ODA0NCAwLjIwMDA4NiwtMC43NDAzOTIgMC4wOTIwMywtMS43ODY3MjcgLTAuMjU0NzA5LC0yLjQ2NjM5IC0wLjg4NTMyMywtMS43MzUzNzYgLTMuMzY2NzAyLC0yLjE3OTgyOSAtNC44OTAwNjcsLTAuODc1ODg1IC0wLjc5MDczLDAuNjc2ODM1IC0xLjA3ODE5OCwxLjMwODA3MiAtMS4wNzgxOTgsMi4zNjc1NjIgMCwxLjQ4NDY1IDAuODgxOTgsMi42OTIyMyAyLjI1Mzc5MSwzLjA4NTgyMyAwLjY2Nzg4NSwwLjE5MTYyNSAxLjA1MjkyOSwwLjE4MDUxNyAxLjgzOTQ5LC0wLjA1MzA3IHogbSAxNS4yNTkyNiwyLjA2NzkyMiBjIC0xLjM4NjQ4OCwtMC41MDc4NCAtMi40MTE2OTUsLTEuNDU2MTAxIC0zLjE1NDYxOSwtMi45MTc4NjcgLTAuNTI1NzY2LC0xLjAzNDQ4OCAtMC42MDg0NDksLTIuNjY5MzM0IC0wLjE5OTM1LC0zLjk0MTYzNCAwLjQ1MTc1NiwtMS40MDQ5NjMgMS40NDY1MTEsLTIuNTA5MDc5IDIuODMyMDUxLC0zLjE0MzQgMi42NTI0MjgsLTEuMjE0MzIyIDUuNjg0NjkzLC0wLjIyNDY5MyA3LjAwMzk0OCwyLjI4NTg1MyAwLjYzODE3NiwxLjIxNDQ0NSAwLjg0OTI1NiwyLjM4MjcyMyAwLjYzMTM2NiwzLjQ5NDQ5NSAtMC4zNjQzMDIsMS44NTg5MDcgLTEuNDAxMDYzLDMuMjI4MzIzIC0zLjAxODQ2NCwzLjk4Njk2MyAtMC43NzUyMDYsMC4zNjM2MSAtMS4wNTU5ODksMC40MjI4NSAtMi4xNDg1MTYsMC40NTMyMyAtMC45NzM0NDYsMC4wMjcxIC0xLjQxMjI0MywtMC4wMjIgLTEuOTQ2NDE2LC0wLjIxNzY0IHogbSAyLjkyMzM1OSwtMi4xMjk3NzUgYyAwLjc4NzM1OSwtMC4yOTQ1ODkgMS41NjQyMzIsLTEuMDM0NDY0IDEuODgwMTgyLC0xLjc5MDY0IDAuNjE1MjEzLC0xLjQ3MjQxIC0wLjI0MjU4LC0zLjQ3NDIzMyAtMS43NjE0NywtNC4xMTA3MjggLTAuNzIyODc5LC0wLjMwMjkyNSAtMi4wMDEzNzUsLTAuMjI4NTUzIC0yLjc4NTE0MywwLjE2MjAxNSAtMi4xMDI0MjYsMS4wNDc2ODMgLTIuMzA5MDQ0LDQuMDA3ODY5IC0wLjM3MjczMiw1LjM0MDA4NyAxLjAyMjE1NCwwLjcwMzI2MSAxLjkxMzY0LDAuODIwMzc4IDMuMDM5MTYzLDAuMzk5MjY2IHogbSA4LjM1MjIwNywtMTAuNDEyMzEgYyAtMC4xNDQ2NywtMS4xNzAxNyAtMC44NjQ5NSwtMy4xNTQ2NjcgLTEuNTkzNDksLTQuMzkwMzcgLTAuNzk5OTQsLTEuMzU2ODA5IC0yLjUxNTk5LC0zLjE0NjQ4NyAtMy44NjI2NzksLTQuMDI4NDE2IC0xLjU2MDEyMywtMS4wMjE3MDMgLTMuMDMzNzksLTEuNTMyNDg2IC01LjE3NjA1NiwtMS43OTQwNTUgLTEuMDkyMTQsLTAuMTMzMzUgLTEuMTIyMDcyLC0wLjEyOTA4MiAtMi42NDU4MzMsMC4zNzcyNzMgLTIuMjAyMzQxLDAuNzMxODUxIC03LjI1Mjc1MSwyLjQ5MDg0IC0xMi45MTI3NzYsNC40OTczNDUgLTIuNjg5MTA4LDAuOTUzMzAxIC00Ljk2NjE3OCwxLjczMzI3NSAtNS4wNjAxNTYsMS43MzMyNzUgLTAuMDkzOTgsMCAtMC4xNzA4NzcsMC4wNDQ2NSAtMC4xNzA4OSwwLjA5OTIyIC0xLjJlLTUsMC4wNTQ1NyA1LjIyMzg1NSwwLjA4OTIgMTEuNjA4NTk0LDAuMDc2OTUgNi40OTYwMjIsLTAuMDEyNDYgMTIuMDcwNzAxLDAuMDMyMDIgMTIuNjU3ODI1LDAuMTAwOTk4IDIuMjc3MDU4LDAuMjY3NTE2IDQuNDgyMjYxLDEuMzY2NTM0IDYuMTkzOTUxLDMuMDg2OTA1IDAuNTI3NDEsMC41MzAwODUgMC45ODA2NiwwLjk3MjI4NyAxLjAwNzI0LDAuOTgyNjcxIDAuMDI2NiwwLjAxMDM4IDAuMDA2LC0wLjMyMzQyNCAtMC4wNDU3LC0wLjc0MTc5NiB6IE0gMzMuOTYyNTg0LDg2Ljk0MzA4NyBjIDAuNDUyOTM4LC0wLjI4OTIyMSAxLjIyNjg0NCwtMC42ODc1ODggMS43MTk3OTIsLTAuODg1MjYgMS45OTEyNzgsLTAuNzk4NTA0IDEuNjEwMzYxLC0wLjc3NTkzNSAxMy43OTQ3MDUsLTAuODE3MzMxIDYuMTQ4MjU1LC0wLjAyMDg5IDExLjQ0NDQwOSwtMC4wMzk0OCAxMS43NjkyMzMsLTAuMDQxMzIgMC41MTc2NzQsLTAuMDAyOSAwLjU2NjY3MiwtMC4wMjcxNCAwLjM5Njg3NSwtMC4xOTYxMDIgLTAuMTA2NTQyLC0wLjEwNjAxNyAtMS4xNDYyMTMsLTAuNTI4MzM1IC0yLjMxMDM4LC0wLjkzODQ4NSAtNS40ODQ0NTYsLTEuOTMyMjQxIC0xMC4xNzcxMDYsLTMuNTk3NTY2IC0xMi44NTEyMzEsLTQuNTYwNjM5IC0yLjY5NjY4MywtMC45NzExOTcgLTMuMDA5NzI5LC0xLjA1NDk5MyAtMy45NDEyNTQsLTEuMDU0OTkzIC00LjA5MTYzNSwwIC04LjA5NTE4MywyLjYxNTI0OCAtMTAuMDQ1ODU5LDYuNTYyMjgzIC0wLjQ4MzkyMiwwLjk3OTE3NyAtMS4wNjU2MTIsMi43ODQ4NDggLTEuMjEwMTMsMy43NTY0NjcgbCAtMC4wODg1NSwwLjU5NTMxMiAwLjk3MTYzNiwtMC45NDcwMzcgYyAwLjUzNDQsLTAuNTIwODcgMS4zNDIyMjIsLTEuMTgzNjcyIDEuNzk1MTYsLTEuNDcyODkyIHogbSAzMi42ODA3MSwtOC43MjgxMTkgMC4wMzQ0NCwtNS44MzQzODIgMC4zNDcyLC0wLjI3MzEwNyBjIDAuNDcwNTE5LC0wLjM3MDExIDEuMDQwNjk5LC0wLjM0OTcwNCAxLjQ0MjAxMSwwLjA1MTYxIGwgMC4zMjQ3MTYsMC4zMjQ3MTYgdiA1Ljc1Mjg5MyBjIDAsMy4xOTkyODMgMC4wNTIwMyw1Ljc4NTA0OSAwLjExNzIxNiw1LjgyNTMzNiAwLjA2NDQ3LDAuMDM5ODQgMS40NDg1NywtMC40MDc3ODQgMy4wNzU3ODEsLTAuOTk0NzI5IDcuMzM1ODQ1LC0yLjY0NjA4NCAxMi40ODU0ODgsLTQuNDYyMTEzIDE2LjQ1MjMxNSwtNS44MDE5MzIgbCAxLjg1MjA4MywtMC42MjU1NTIgMC4wMzM2OSwtMTMuNTgxMzY5IGMgMC4wMTg1MywtNy40Njk3NTMgMC4wMDE3LC0xMy41ODEzNjkgLTAuMDM3MzEsLTEzLjU4MTM2OSAtMC4wMzkwNSwwIC00LjAxMzA0NCwxLjIyMjkyNCAtOC44MzEwOSwyLjcxNzYxIC00LjgxODA0NSwxLjQ5NDY4NiAtOS41NjM3NTQsMi45NjQwNjQgLTEwLjU0NjAxOSwzLjI2NTI4NSAtMC45ODIyNjYsMC4zMDEyMjIgLTEuODYwMzUyLDAuNjAzNjMzIC0xLjk1MTMwMiwwLjY3MjAyNiAtMC4xMjQxNjUsMC4wOTMzNyAtMC4xNjUzNjUsMC45MDc2OTQgLTAuMTY1MzY1LDMuMjY4NDk2IDAsMi44ODc5MzggLTAuMDIwNDEsMy4xNjkzNSAtMC4yNTA0NiwzLjQ1MzQ1MSAtMC4zNDQ5MSwwLjQyNTk0NiAtMS4yMTI5ODUsMC40MzIwMjMgLTEuNjMzNTcyLDAuMDExNDQgLTAuMjkzODYsLTAuMjkzODYgLTAuMjk3Mjk2LC0wLjMzNzQzIC0wLjI1NTM4OCwtMy4yMzgxMzkgMC4wMjMzNiwtMS42MTcxNDkgLTAuMDExMSwtMy4wODI3OTggLTAuMDc2NTgsLTMuMjU2OTk3IC0wLjEwNzA0MywtMC4yODQ3NjkgLTAuNzc4Nzc2LC0wLjUyMTY4MSAtNi42NTc1MTksLTIuMzQ4MDE5IC0zLjU5NjE1NCwtMS4xMTcyMTEgLTguMzU1OTAxLC0yLjU5NjkxIC0xMC41NzcyMTUsLTMuMjg4MjIxIC0yLjIyMTMxNSwtMC42OTEzMTEgLTQuMDgxNjY2LC0xLjI1NjkyOSAtNC4xMzQxMTUsLTEuMjU2OTI5IC0wLjA1MjQ1LDAgLTAuMDk1MzYsMi43MDg2NzEgLTAuMDk1MzYsNi4wMTkyNyB2IDYuMDE5MjcxIGggNS4yOTE2NjYgNS4yOTE2NjcgbCAwLjAwMiwtMi4wMTc0NDggYyAwLjAwMjEsLTIuMTY0NTEgMC4wNzE3MSwtMi40NjI1ODEgMC42ODA2OTIsLTIuOTE0NjE3IDAuMjc2MDM5LC0wLjIwNDg5NyAwLjQ2MTQzNSwtMC4yNDEyNjcgMC44NTk4OTUsLTAuMTY4Njg2IDAuNDQ4MDgsMC4wODE2MiAxLjA4ODk4NiwwLjY3MjE0MSA1LjQzNDg4OCw1LjAwNzYzNCAyLjc0NzUwNiwyLjc0MDkyNCA1LjAyMzY5Myw1LjExOTA2OSA1LjE0NTcxMSw1LjM3NjIwMiAwLjE5Mjg5OSwwLjQwNjUwNSAwLjE5NjkyOSwwLjUxODcxMSAwLjAzNDAzLDAuOTQ3NzA1IC0wLjI0Njg0NiwwLjY1MDA3NyAtOS41Mjk2MTcsOS44MTkzODIgLTEwLjI0MjM5NiwxMC4xMTcyIC0wLjYzMDg0NiwwLjI2MzU4NCAtMS4xNTYxMDYsMC4xNDM3NDkgLTEuNTgwNDY3LC0wLjM2MDU3NSAtMC4zMjc4NDgsLTAuMzg5NjI2IC0wLjMzNDMwNSwtMC40MzkyNjUgLTAuMzM0MzA1LC0yLjU2OTk2MiB2IC0yLjE3MjY2MiBoIC01LjI5NTIwMyAtNS4yOTUyMDMgbCAwLjAzNjYxLDEuOTM0NDg3IDAuMDM2NjEsMS45MzQ0ODcgMS44NTIwODMsMC42NTAzMyBjIDEuMDE4NjQ2LDAuMzU3NjgxIDIuNzc0ODE4LDAuOTcwMzg3IDMuOTAyNjA0LDEuMzYxNTY4IDIuNDM0OTYzLDAuODQ0NTg2IDExLjQwODkyOSw0LjAyNjcyMyAxMy43NTgzMzMsNC44Nzg2NTggMC45MDk1MDUsMC4zMjk4MDIgMS43MTMxNzcsMC41ODM4MzggMS43ODU5MzcsMC41NjQ1MjMgMC4wODUsLTAuMDIyNTYgMC4xNDQ2MDQsLTIuMTIwNzk0IDAuMTY2NzM1LC01Ljg2OTQ5OCB6IG0gLTQuOTI4MzQzLC03LjQwMjMzMSBjIDEuOTQzOTEzLC0xLjk3MjAwNiAzLjQ0NTQ0NSwtMy41OTcyNzMgMy4zOTU2NTcsLTMuNjc1NDggLTAuMDQ5MDksLTAuMDc3MTEgLTEuNjgxNzE4LC0xLjcwOTkxOCAtMy42MjgwNTksLTMuNjI4NDU3IGwgLTMuNTM4ODAyLC0zLjQ4ODI1NCB2IDEuNzM1MTIxIGMgMCwxLjU4MDA2OCAtMC4wMjI4NywxLjc0NzM1OCAtMC4yNTU4ODYsMS44NzIwNjcgLTAuMTY5NDA1LDAuMDkwNjYgLTMuMzg4NTUzLDAuMTM2OTQ2IC05LjUyNSwwLjEzNjk0NiBoIC05LjI2OTExMyB2IDMuMzczNDM3IDMuMzczNDM4IGggOS4zMTcxMTMgYyA4LjI5MzcxMywwIDkuMzM5OTQ3LDAuMDIyODMgOS41MjQ5OTksMC4yMDc4ODcgMC4xNjc1NDksMC4xNjc1NDggMC4yMDc4ODcsMC41Mzk3NjEgMC4yMDc4ODcsMS45MTgyMjkgMCwxLjEzODQ5MSAwLjA0Nzg2LDEuNzEwMzQyIDAuMTQzMTQ2LDEuNzEwMzQyIDAuMDc4NzMsMCAxLjcxMTM1NiwtMS41OTA4NzQgMy42MjgwNTgsLTMuNTM1Mjc2IHogbSA4Ljk4MTQ3NCwtMTcuNzEwMDAxIGMgNC43MjAxNDYsLTEuNDA4MjkgNS43MTM2ODIsLTEuNzM1ODMxIDUuNTAzNTcxLC0xLjgxNDM3NSAtMC4xMDkxNDEsLTAuMDQwOCAtMy4zMjM4MjgsLTEuMDA0ODIgLTcuMTQzNzUsLTIuMTQyMjcgLTMuODE5OTIxLC0xLjEzNzQ0OSAtOC4wMzg1MjQsLTIuMzk3MjQxIC05LjM3NDY3MiwtMi43OTk1MzcgLTEuMzc5MTU3LC0wLjQxNTI0NSAtMi41ODAxMywtMC43MDYxMDUgLTIuNzc4MTI1LC0wLjY3MjgyNCAtMC42NzY0NSwwLjExMzcwNSAtOC4yODc2MzYsMi4xMTg5MTEgLTguMzg5MTQ1LDIuMjEwMTY0IC0wLjA1NjU4LDAuMDUwODcgMS40MDE5MzIsMC41NTY2MjEgMy4yNDExNDYsMS4xMjM4OTggNC4zNjE5NzEsMS4zNDUzODIgMTUuNjA5MjAxLDQuODM2OTYgMTUuNzc5NDQyLDQuODk4NTU0IDAuMDcyNzYsMC4wMjYzMiAwLjE1NTk5NywwLjA1MjU2IDAuMTg0OTcxLDAuMDU4MzEgMC4wMjg5NywwLjAwNTcgMS4zNjg0MjYsLTAuMzgyMTE5IDIuOTc2NTYyLC0wLjg2MTkxNyB6IG0gMTMuMTM5MDc2LC00LjAyMjQzIGMgMS42ODcyMDEsLTAuNTA5MzIzIDMuMTAwMjEyLC0wLjkyNjA0MiAzLjE0MDAyNSwtMC45MjYwNDIgMC4wMzk4MSwwIDAuMDcyMzksLTAuMDU5NTMgMC4wNzIzOSwtMC4xMzIyOTIgMCwtMC4wNzI3NiAtMC4wODIzNCwtMC4xMzIyOTEgLTAuMTgyOTcyLC0wLjEzMjI5MSAtMC4xOTExMzMsMCAtMy41MzI1ODIsLTAuOTA3NzY3IC0xMC40NjY1MDcsLTIuODQzNDIyIC02LjIwMDkxNywtMS43MzEwMzEgLTguMzc5ODY4LC0yLjMxNTgzNiAtOC42MzMzODUsLTIuMzE3MTAzIC0wLjE4NTIxMSwtOS4yNWUtNCAtNS4yMzM2NTUsMS40MTI3OTYgLTUuOTg0ODQzLDEuNjc1OTQyIC0wLjEwOTE0MSwwLjAzODIzIDAuNDU2NDA2LDAuMjY3MjQ4IDEuMjU2NzcxLDAuNTA4OTIyIDIuMDIzMDc2LDAuNjEwODc4IDkuNTA0Mjk3LDIuODMxODY2IDEyLjc2NjE0NSwzLjc4OTk1IDEuNDkxNTg4LDAuNDM4MTE1IDMuMDM5NDAxLDAuOTA1NjggMy40Mzk1ODMsMS4wMzkwMzEgMC40MDAxODIsMC4xMzMzNTIgMC45MDcwNTQsMC4yNDcxNTggMS4xMjYzODEsMC4yNTI5MDIgMC4yMTkzMjgsMC4wMDU3IDEuNzc5MjE1LC0wLjQwNjI3NCAzLjQ2NjQxNiwtMC45MTU1OTcgeiBNIDU5LjI1NzMxNywzNi43MzYzODQgYyAtMS4zNjk4NTEsLTAuMzg3MjU0IC0yLjM5NzI5MiwtMS4yNzE1MDMgLTMuMDE5OTg1LC0yLjU5OTA5OSAtMC40NjQ3MzIsLTAuOTkwODIgLTAuNDg2MDgxLC0yLjc3ODEzMyAtMC4wNDQ3MywtMy43NDQ0NiAwLjQwMTgyMiwtMC44Nzk3NzIgMS4zODM3NTgsLTEuODgwNjY5IDIuMjYzNTg5LC0yLjMwNzI5OCAwLjY0NzIxOCwtMC4zMTM4MzYgMC45MDgyODQsLTAuMzYxNTQyIDIuMDAxMDk0LC0wLjM2NTY3MyAxLjExMzUxNywtMC4wMDQyIDEuMzQyNTc0LDAuMDM3MzggMi4wMDk1MjIsMC4zNjQ5MDMgMC45Nzk2NDQsMC40ODEwNzQgMS45ODI5MTYsMS41NzU2MyAyLjM1OTU4OCwyLjU3NDI3NyAwLjQwODUyNywxLjA4MzEwMSAwLjMyNTYyMiwyLjU3MTc3OCAtMC4yMDI4NzUsMy42NDI5MzQgLTAuOTUxNTY0LDEuOTI4NjI0IC0zLjMzMzI5OCwzLjAwOTExNCAtNS4zNjYyMDYsMi40MzQ0MTYgeiBNIDYxLjg1NzIsMzQuNTk0OTA1IGMgMS4zMjc5NDEsLTAuNzc4MjI1IDEuNjkyNTY1LC0yLjcxMjA4NyAwLjczNTUwNCwtMy45MDA5MSAtMS4xNjA5NzgsLTEuNDQyMTIgLTMuMTIyNjU3LC0xLjQyNTg1IC00LjI5OTY5NSwwLjAzNTY2IC0wLjMzMjc0NywwLjQxMzE2NyAtMC40MTI4NSwwLjY0NzkyNSAtMC40NTY4NDcsMS4zMzg4ODcgLTAuMDYyMTMsMC45NzU3NDcgMC4xNDU2NzgsMS41MjY2OTUgMC44MjM3MywyLjE4Mzg4OCAwLjg4NjUwNSwwLjg1OTIzNSAyLjA5NDY5NCwwLjk4ODY0NyAzLjE5NzMwOCwwLjM0MjQ3MiB6IG0gMTEuODA4NjQxLDIuMTMwMDk2IGMgLTEuMzQzNzg1LC0wLjQ4MDAxMiAtMi4yODQ5NzksLTEuMzI2NzM3IC0yLjg3NjQyNywtMi41ODc3MTYgLTAuMjg2MDgzLC0wLjYwOTkzNyAtMC4zNDQxMDUsLTAuOTIzMjQ2IC0wLjM0NDEwNSwtMS44NTgxMiAwLC0wLjkzODUzOSAwLjA1NzY1LC0xLjI0NzQxOSAwLjM0ODYxLC0xLjg2Nzk2IDEuMzY0Nzg0LC0yLjkxMDY3MSA0LjkzMDQ5NiwtMy42MzkyNTMgNy4yNTkyMSwtMS40ODMyNzUgMS43NTg2NTIsMS42MjgyMDIgMi4wNDkxMTUsMy44ODUyNjMgMC43NjA1MjcsNS45MDk3MzQgLTAuNDU2MzA5LDAuNzE2ODk3IC0xLjQ2NjUwNSwxLjUyNDQ0MyAtMi4zMTg2ODEsMS44NTM1NDQgLTAuNjc3MDMzLDAuMjYxNDYzIC0yLjE0Mjc2NCwwLjI3ODk3MSAtMi44MjkxMzQsMC4wMzM3OSB6IG0gMi41MDYzNTIsLTEuOTE5NDIgYyAyLjAzNjcwOCwtMS4wNDQ0ODUgMS45NTUxODMsLTMuOTYxODIyIC0wLjEzNTExOCwtNC44MzUyMDYgLTIuMjk1ODc5LC0wLjk1OTI4IC00LjU0NzY1NywxLjM5OTY2NCAtMy40MjkwNzQsMy41OTIyNjggMC42NTQ1MjcsMS4yODI5NzggMi4zMzk5ODYsMS44NzA3NDcgMy41NjQxOTIsMS4yNDI5MzggeiBtIDEyLjIyOTA4MywxLjkwNjUzNiBjIC0xLjQzMjgwNywtMC40MDE4NzYgLTIuMzM5MjU2LC0xLjE0MDM0MSAtMi45NjgzODEsLTIuNDE4Mjc1IC0wLjM5NDkxNywtMC44MDIxOTEgLTAuNDM1NTA0LC0wLjk5NTg1MyAtMC40MzU1MDQsLTIuMDc4MDQxIDAsLTEuMDM4Njg4IDAuMDQ3OTIsLTEuMjkwOTk3IDAuMzY5NjU0LC0xLjk0NjE1OCAwLjg0NTYxMywtMS43MjE5NzYgMi42NjY2NzUsLTIuNzQyNzc3IDQuNjAzMzQxLC0yLjU4MDQxNCAxLjE0Mjc0MSwwLjA5NTggMS45MjA2OTksMC40Mzg1NTcgMi43NDQ1OTcsMS4yMDkyMTcgMS42MjkzMDcsMS41MjQwMjYgMS45MTQ0ODcsNC4wNTk1OTEgMC42NjgyMTEsNS45NDExMjUgLTEuMDIyNjM5LDEuNTQzOTAyIC0zLjIxNTI5MywyLjM2ODA1MiAtNC45ODE5MTgsMS44NzI1NDYgeiBtIDEuODY4NTYsLTEuNzk3ODk5IGMgMC42NTI5MywtMC4xODEzIDEuNjE0Njg5LC0xLjA2NTczNiAxLjgxMzI5MiwtMS42Njc1MDggMC4wODQ2NiwtMC4yNTY1MjkgMC4xMjg0OTMsLTAuODE4MDk1IDAuMDk3NCwtMS4yNDc5MjUgLTAuMDYyNDEsLTAuODYyNzY3IC0wLjI4MDI2OSwtMS4yNDMwNTYgLTEuMDg1NDg5LC0xLjg5NDc3NSAtMC40NjEyNDMsLTAuMzczMzE1IC0wLjU3ODg1NiwtMC40MDQ1MzIgLTEuNTI0MTA1LC0wLjQwNDUzMiAtMC45MDMxODUsMCAtMS4wODY2NzEsMC4wNDMyMyAtMS41NTE4ODIsMC4zNjU2MiAtMS44MjY2OTEsMS4yNjU4OTggLTEuNDI3MTE1LDQuMDk1MTUzIDAuNjgyNTA0LDQuODMyNTc1IDAuNTI1NTIyLDAuMTgzNjk4IDAuOTUwMTYxLDAuMTg4MTc3IDEuNTY4Mjc4LDAuMDE2NTUgeiBtIC00NS44NTEyNDQsMS42NjI2MDcgYyAtMS4yNDcyNDcsLTAuNDU4MTQxIC0yLjM0NDg4MywtMS41NzY3NjYgLTIuODA2MzIyLC0yLjg1OTk4MyAtMC4zMjQwNiwtMC45MDExODIgLTAuMjM4OTgyLC0yLjU5MzkzIDAuMTcyODk5LC0zLjQ0MDA2IDAuNDc4NjcsLTAuOTgzMzM0IDEuMTM5NDc0LC0xLjY1MDY3MSAyLjEwNTM2LC0yLjEyNjE3NSAwLjgwMjcyLC0wLjM5NTE3OCAwLjk5NTEzOSwtMC40MzU0NDIgMi4wNzgwNDEsLTAuNDM0ODM2IDEuNDM0MTU0LDguMDRlLTQgMi4xMDE3MzYsMC4yNTgxMTYgMy4xMDU0MjksMS4xOTY5NTMgMS4zMTk1NSwxLjIzNDI4NCAxLjc0NzU3MywyLjkwNjA0OSAxLjIwMzAzOSw0LjY5ODgwOSAtMC4yNTM4NCwwLjgzNTcxMyAtMC40MDAwNjQsMS4wNzAyNzMgLTEuMTA4NDI2LDEuNzc4MDUyIC0xLjAyNjA4NiwxLjAyNTI0MSAtMS45MDQyNDQsMS4zOTE4MjUgLTMuMzAxNDQyLDEuMzc4MTc1IC0wLjUyNDc4MywtMC4wMDUxIC0xLjE3NjY0NCwtMC4wOTEwNSAtMS40NDg1NzgsLTAuMTkwOTM1IHogbSAyLjg5NDExMywtMi4wNjAwOTYgYyAyLjIxOTMwMiwtMS4zNzE2MDQgMS4yMjk5NTgsLTQuODk1NTkgLTEuMzcwMTc3LC00Ljg4MDQ5MiAtMS4zMjkwMzEsMC4wMDc3IC0yLjY4MTY4LDEuMzQwODE5IC0yLjY4MTY4LDIuNjQyOTI4IDAsMC44OTE4NTQgMC43NDg2NTcsMS45ODM0MzEgMS42NTEwMzYsMi40MDcyOSAwLjY3Nzg5LDAuMzE4NDEzIDEuNzMxNTE2LDAuMjQzOTI3IDIuNDAwODIxLC0wLjE2OTcyNiB6IgogICAgICAgICAgIGlkPSJwYXRoMTgiIC8+PC9nPjwvZz48cGF0aAogICAgICAgaWQ9InJlY3QzMyIKICAgICAgIHN0eWxlPSJmaWxsOiNlZmUzZDk7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiNmZmZmZmY7c3Ryb2tlLXdpZHRoOjAuMTY3MTE1IgogICAgICAgZD0ibSA3OS43MTQ0NTUsNzAuMzYxNTY1IDYuODk0NDg3LC0yLjExNjY2NyBjIDAuNTQ5NzgyLC0wLjE2ODc4NyAxLjAzODEwMSwwLjQ2Mjk5MyAxLjAzODEwMSwxLjAzODEwMSB2IDMuNTk4MzYxIGMgMCwwLjU3NTEwOCAtMC40OTI5MywwLjg1NDk2NyAtMS4wMzgxMDEsMS4wMzgxMDEgbCAtNi44ODA1ODMsMi4zMTEzMjcgYyAtMC41NDUxNywwLjE4MzEzNCAtMS4wMzU5OTMsLTAuNDYyOTk3IC0xLjAzODEwMiwtMS4wMzgxMDEgbCAtMC4wMTM5LC0zLjc5MzAyMSBjIC0wLjAwMjEsLTAuNTc1MTA0IDAuNDg4MzIsLTAuODY5MzEzIDEuMDM4MTAyLC0xLjAzODEwMSB6IiAvPjwvZz48L3N2Zz4K',

          // --- Shifts/Sorts ---
          shiftOrder: ['sunrise','day','twilight','night'],
          shift: 'night',
          labelForShift(s){ return ({sunrise:'Sunrise', day:'Day', twilight:'Twilight', night:'Night'})[s] || s; },

          // Sidebar belts (short labels + colors)
          belts: [
            {chute:'Blue Yellow', short:'B-Y', color:'bg-blue-600'},
            {chute:'Blue Black',  short:'B-Bk', color:'bg-blue-800'},
            {chute:'Blue Blue',   short:'B-B',  color:'bg-blue-500'},
            {chute:'White Brown', short:'W-Br', color:'bg-gray-500'},
            {chute:'Blue Orange', short:'B-O',  color:'bg-orange-500'},
            {chute:'Blue Green',  short:'B-G',  color:'bg-green-600'},
            {chute:'Blue Red',    short:'B-R',  color:'bg-red-600'},
            {chute:'Blue White',  short:'B-W',  color:'bg-blue-400'},
            {chute:'White Orange',short:'W-O',  color:'bg-orange-300 text-black'},
            {chute:'White Green', short:'W-G',  color:'bg-green-400 text-black'},
            {chute:'Brown Brown', short:'Br-Br',color:'bg-yellow-800'},
            {chute:'Brown Blue',  short:'Br-B', color:'bg-blue-900'},
            {chute:'Brown Yellow',short:'Br-Y', color:'bg-yellow-500 text-black'},
            {chute:'Brown Black', short:'Br-Bk',color:'bg-black'},
            {chute:'Brown Orange',short:'Br-O', color:'bg-orange-700'},
            {chute:'Brown Green', short:'Br-G', color:'bg-green-800'},
            {chute:'Brown Red',   short:'Br-R', color:'bg-red-700'},
            {chute:'Brown White', short:'Br-W', color:'bg-gray-400 text-black'},
            {chute:'Yellow',      short:'Y',    color:'bg-yellow-400 text-black'},
            {chute:'Black',       short:'Bk',   color:'bg-black'},
            {chute:'White Red',   short:'W-R',  color:'bg-red-500'},
            {chute:'White White', short:'W-W',  color:'bg-gray-600'},
            {chute:'White Blue',  short:'W-B',  color:'bg-blue-400'},
            {chute:'Orange',      short:'O',    color:'bg-orange-400 text-black'},
            {chute:'Green Runout',short:'Run',  color:'bg-green-500'},
            {chute:'PD-1',        short:'PD1',  color:'bg-gray-300 text-black'},
            {chute:'PD-2',        short:'PD2',  color:'bg-gray-400 text-black'},
            {chute:'PD-3',        short:'PD3',  color:'bg-gray-500'},
          ],

          // --- RULES BY SHIFT ---
          rulesByShift: {
            sunrise: [
              // Add Sunrise rules here later (same format)
            ],
            day: [
              // Add Day rules here later
            ],
            twilight: [
              // Add Twilight rules here later
            ],
            night: [
              // Your current rules (unchanged)
              {state:'TX', zips:['735','750-758','760-767'], chute:['Blue Yellow','Blue Black'], dest:'DFW', pull:'225/245', wave:'2nd'},
              {state:'OK', zips:['735','750-758','760-767'], chute:['Blue Yellow','Blue Black'], dest:'DFW', pull:'225/245', wave:'2nd'},
              {state:'CA', zips:['900-928'], chute:'Blue Blue', dest:'ONT', pull:'201/221', wave:'1st'},
              {state:'CA', zips:['900-928'], chute:'White Brown', dest:'ONT', pull:'201/221', wave:'1st'},

              {state:'MI', zips:['484-499'], chute:'Blue Orange', dest:'LAN', pull:'227/247', wave:'2nd'},
              {state:'MI', zips:['480-483'], chute:'Blue Green', dest:'DTW', pull:'235/255', wave:'2nd'},
              {state:'OR', zips:['970-979'], chute:'Blue Red', dest:'PDX', pull:'153/213', wave:'1st'},
              {state:'WA', zips:['986-987'], chute:'Blue Red', dest:'PDX', pull:'153/213', wave:'1st'},
              {state:'MN', zips:['550-566'], chute:'Blue White', dest:'MSP', pull:'237/257', wave:'2nd'},
              {state:'WI', zips:['540', '546-548'], chute:'Blue White', dest:'MSP', pull:'237/257', wave:'2nd'},
              {state:'MD', zips:['200-219'], chute:'White Orange', dest:'BWI', pull:'221/241', wave:'2nd'},
              {state:'DC', zips:['200-219'], chute:'White Orange', dest:'BWI', pull:'221/241', wave:'2nd'},
              {state:'VA', zips:['201'], chute:'White Green', dest:'IAD', pull:'218/238', wave:'2nd'},
              {state:'MD', zips:['217', '220-228'], chute:'White Green', dest:'IAD', pull:'218/238', wave:'2nd'},
              {state:'WV', zips:['254', '267-268'], chute:'White Green', dest:'IAD', pull:'218/238', wave:'2nd'},
              {state:'IL', zips:['620-623'], chute:'Brown Brown', dest:'STL', pull:'250/310', wave:'2nd'},
              {state:'MO', zips:['630-637', '650-655'], chute:'Brown Brown', dest:'STL', pull:'250/310', wave:'2nd'},
              {state:'MO', zips:['640-646', '649', '653'], chute:'Brown Blue', dest:'MCI', pull:'258/318', wave:'2nd'},
              {state:'KS', zips:['660-666', '668'], chute:'Brown Blue', dest:'MCI', pull:'258/318', wave:'2nd'},
              {state:'CA', zips:['942','952-953','955-961'], chute:'Brown Yellow', dest:'MHR/MEM', pull:'147/207/248', wave:'1st'},
              {state:'TN', zips:['375-384'], chute:'Brown Yellow', dest:'MHR/MEM', pull:'147/207/248', wave:'1st'},
              {state:'CA', zips:['939-951','954'], chute:'Brown Black', dest:'OAK', pull:'142/202', wave:'1st'},
              {state:'MA', zips:['010-013', '668'], chute:'Brown Orange', dest:'BDL', pull:'222/242', wave:'2nd'},
              {state:'CT', zips:['060-069'], chute:'Brown Orange', dest:'BDL', pull:'222/242', wave:'2nd'},
              {state:'NY', zips:['104', '1006-119'], chute:'Brown Green', dest:'JFK', pull:'223/243', wave:'2nd'},
              {state:'TX', zips:['759','770-779'], chute:'Brown Red', dest:'IAH', pull:'231/251', wave:'1st'},
              {state:'NE', zips:['689-691','693'], chute:'Brown White', dest:'DEN', pull:'149/209', wave:'1st'},
              {state:'CO', zips:['820-826'], chute:'Brown White', dest:'DEN', pull:'149/209', wave:'1st'},
              {state:'WY', zips:['820-826'], chute:'Brown White', dest:'DEN', pull:'149/209', wave:'1st'},
              {state:'NY', zips:['100-103'], chute:'Yellow', dest:'EWR', pull:'221/241', wave:'2nd'},
              {state:'NJ', zips:['070-079','085-089'], chute:'Black', dest:'EWR', pull:'221/241', wave:'2nd'},
              {state:'AZ', zips:['850-869'], chute:'White Red', dest:'PHX', pull:'200/220', wave:'1st'},
              {state:'IA', zips:['500-516','520-526'], chute:'White White', dest:'CID/OMA', pull:'242/248/256', wave:'1st'},
              {state:'NE', zips:['680-688'], chute:'White White', dest:'CID/OMA', pull:'242/248/256', wave:'1st'},
              {state:'OH', zips:['434','438-449'], chute:'White Blue', dest:'CLE', pull:'224/244', wave:'2nd'},
              {state:'WA', zips:['980-985'], chute:'Orange', dest:'BFI', pull:'151/211', wave:'1st'},

              {state:'IA', zips:['527-528'], chute:'Green Runout', dest:'PD Wall'},
              {state:'IL', zips:['601-603','605','610','612-617'], chute:'Green Runout', dest:'PD Wall'},
              {state:'IL', zips:['601','604-606','608-609'], chute:'PD-1', dest:'PD Wall'},
              {state:'WI', zips:['530-539','541-545','549'], chute:'PD-2', dest:'PD Wall'},
              {state:'WI', zips:['546-547'], chute:'PD-3', dest:'PD Wall'},
              {state:'IL', zips:['60546','606-607','610-611'], chute:'PD-3', dest:'PD Wall'},
            ]
          },

          // Derived (current view)
          rules: [],
          states: [],
          selectedState: null,
          selectedBelt: null,
          matches: [],
          beltMatches: [],
          highlightedSet: new Set(),
          byChute: new Map(),

          // THEME
          theme: localStorage.getItem('theme') || 'dark',

          // --- Lifecycle ---
          init() {
            this.applyShift();
            this.applyTheme();

            // keep theme persisted whenever it changes (covers selects etc.)
            this.$watch('theme', (t) => {
              localStorage.setItem('theme', t);
              this.applyTheme();
            });
            
            // OPTIONAL: live-update if user changes OS theme while on "auto"
            const mq = window.matchMedia('(prefers-color-scheme: dark)');
            mq.addEventListener?.('change', () => {
              if (this.theme === 'auto') this.applyTheme();
            });
          },

          applyTheme() {
            const html = document.documentElement; // <html>
            let color;
            let value = this.theme;

            if (value === 'auto') {
              value = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
            }

            if (value === 'dark') {
              color = '#13171f'; // navbar dark color
            } else {
              color = 'hsl(205deg 18.75% 87.45%)'; // navbar light color
            }

            html.setAttribute('data-theme', value);
            document.querySelector('meta[name=theme-color]').setAttribute('content', color);
            document.querySelector('meta[name=msapplication-navbutton-color]').setAttribute('content', color);
          },

          toggleTheme() {
            // If on 'auto', flip to the resolved mode first, then toggle.
            const resolved = (this.theme === 'auto')
              ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light')
              : this.theme;

            this.theme = (resolved === 'dark') ? 'light' : 'dark';
            // applyTheme is called via $watch, but calling here is fine too:
            this.applyTheme();
          },

          // --- Helpers ---
          asArray(v){ return Array.isArray(v) ? v : [v]; },
          isHighlighted(chute){ return this.highlightedSet.has(chute); },

          // --- Shift handling ---
          setShift(s){
            if (this.shift === s) return;
            this.shift = s;
            this.applyShift();
          },
          applyShift(){
            // reset selections/highlights
            this.selectedState = null;
            this.selectedBelt  = null;
            this.matches = [];
            this.beltMatches = [];
            this.highlightedSet = new Set();

            // load rules for current shift
            this.rules = this.rulesByShift[this.shift] || [];

            // unique states
            this.states = [...new Set(this.rules.map(r => r.state))].sort();

            // reverse index: chute -> list of rules
            this.byChute = new Map();
            this.rules.forEach((r, i) => {
              this.asArray(r.chute).forEach(c => {
                if(!this.byChute.has(c)) this.byChute.set(c, []);
                this.byChute.get(c).push({...r, _key:`belt:${this.shift}:${c}:${i}:${r.state}:${(r.dest||'')}`});
              });
            });
          },

          // --- Actions ---
          showState(code){
            this.selectedBelt = null;
            this.selectedState = code;
            this.matches = this.rules
              .filter(r => r.state === code)
              .map((r,i) => ({...r, _key: `state:${this.shift}:${code}:${i}:${(r.dest||'')}:${this.asArray(r.chute).join('|')}`}));

            this.highlightedSet = new Set();
            this.matches.forEach(m => this.asArray(m.chute).forEach(c => this.highlightedSet.add(c)));
          },

          showBelt(chuteName){
            this.selectedState = null;
            this.selectedBelt = chuteName;
            this.beltMatches = this.byChute.get(chuteName) || [];
            this.highlightedSet = new Set([chuteName]);
          },

          clear(){
            this.selectedState = null;
            this.selectedBelt  = null;
            this.matches = [];
            this.beltMatches = [];
            this.highlightedSet = new Set();
          }
        }
      }
    </script>

    <script src="https://michaelsboost.com/TailwindCSSMod/tailwind-mod-noreset.min.js"></script>
  </body>
</html>